\RequirePackage[l2tabu, orthodox]{nag}

\documentclass[
    a4paper,
    12pt,
    twoside,
    open=right,
    DIV=13,
    BCOR=15mm,
    ngerman,
    abstracton, 
    toc=bibliography,
    toc=listof, 
    numbers=noenddot,
    headings=normal,
    headinclude,
    parskip=half
    ]{scrreprt}

% compatibility
\usepackage{scrhack} % silences certain KOMA warnings
\usepackage{xltxtra} % fixes XeTeX stuff

% language support
\usepackage[ngerman]{babel}

% bibliography
\usepackage[backend=biber, style=alphabetic]{biblatex}
\bibliography{bibliography.bib}

% fonts
\defaultfontfeatures{Ligatures=TeX}
\setmainfont{Minion Pro}
\setsansfont{Myriad Pro}
\setmonofont{Consolas}
\urlstyle{same}

% line spacing
\usepackage{setspace} 
\setstretch{1.25}

% no widows
\usepackage[all]{nowidow}

\usepackage{xcolor}
\definecolor{lightgray}{gray}{0.96}

% headers
\setlength{\headheight}{1.1\baselineskip}
\usepackage[headsepline, automark]{scrpage2}
\pagestyle{scrheadings}

% listings
\usepackage{listings}
\lstset{
    basicstyle=\ttfamily\scriptsize,
    captionpos=b,
    frame=bt,
    numbers=left,
    numberstyle=\rmfamily\tiny\color{gray!50!black},
    keywordstyle=\bfseries,
    % backgroundcolor=\color{lightgray},
    stringstyle=\slshape,
    xleftmargin=8mm,
    framexleftmargin=8mm,
    aboveskip=\baselineskip,
    showspaces=false,
    showtabs=false
}

\lstdefinelanguage{json}{
  morestring=[b]",
}

\lstdefinelanguage{pseudo}{
    keywords={var, foreach, in, function, return, end, do},
}

% referencing stuff
\usepackage[strict=true]{csquotes}
\PassOptionsToPackage{hyphens}{url}\usepackage{hyperref}
\usepackage{cleveref}
\usepackage[font=small,labelfont=bf]{caption}
\captionsetup{%
  figurewithin=chapter,
  tablewithin=chapter
}

% various extensions
\usepackage{siunitx} % numbers and units
\usepackage{booktabs} % good looking tables
\usepackage{dashrule} % dotted lines
\usepackage{amssymb} % math stuff

% no warnings for underfull boxes in lof, lot, lol and bib
\usepackage{etoolbox}
\apptocmd{\sloppy}{\hbadness 10000\relax}{}{}

% graphics directory
\graphicspath{{assets/}}

\begin{document}

\pagenumbering{Roman}

% title page
\include{title}

\include{abstract}
\include{erklaerung}

\raggedbottom
\tableofcontents
\flushbottom

\cleardoublepage

\pagenumbering{arabic}

\include{einleitung}
\include{tagging}
\include{framework}
\include{application}
\include{system}
\include{zusammenfassung}

\cleardoublepage
\pagenumbering{Alph}
\sloppy

\listoffigures
\listoftables
\lstlistoflistings
\printbibliography 

\fussy

\appendix
\include{appendix}

\end{document}